!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AOS=t():e.AOS=t()}(this,(function(){return function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="dist/",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=(n(a(1)),a(6)),r=n(i),d=n(a(7)),s=n(a(8)),l=n(a(9)),c=n(a(10)),u=n(a(11)),p=n(a(14)),m=[],f=!1,h={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(f=!0),f)return m=(0,u.default)(m,h),(0,c.default)(m,h.once),m},v=function(){m=(0,p.default)(),g()};e.exports={init:function(e){h=o(h,e),m=(0,p.default)();var t=document.all&&!window.atob;return function(e){return!0===e||"mobile"===e&&l.default.mobile()||"phone"===e&&l.default.phone()||"tablet"===e&&l.default.tablet()||"function"==typeof e&&!0===e()}(h.disable)||t?void m.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")})):(h.disableMutationObserver||s.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),h.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",h.easing),document.querySelector("body").setAttribute("data-aos-duration",h.duration),document.querySelector("body").setAttribute("data-aos-delay",h.delay),"DOMContentLoaded"===h.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?g(!0):"load"===h.startEvent?window.addEventListener(h.startEvent,(function(){g(!0)})):document.addEventListener(h.startEvent,(function(){g(!0)})),window.addEventListener("resize",(0,d.default)(g,h.debounceDelay,!0)),window.addEventListener("orientationchange",(0,d.default)(g,h.debounceDelay,!0)),window.addEventListener("scroll",(0,r.default)((function(){(0,c.default)(m,h.once)}),h.throttleDelay)),h.disableMutationObserver||s.default.ready("[data-aos]",v),m)},refresh:g,refreshHard:v}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function a(e,t,a){function o(t){var a=p,n=m;return p=m=void 0,b=t,h=e.apply(n,a)}function r(e){return b=e,g=setTimeout(l,t),k?o(e):h}function s(e){var a=e-v;return void 0===v||a>=t||a<0||E&&e-b>=f}function l(){var e=w();return s(e)?c(e):void(g=setTimeout(l,function(e){var a=t-(e-v);return E?x(a,f-(e-b)):a}(e)))}function c(e){return g=void 0,L&&p?o(e):(p=m=void 0,h)}function u(){var e=w(),a=s(e);if(p=arguments,m=this,v=e,a){if(void 0===g)return r(v);if(E)return g=setTimeout(l,t),o(v)}return void 0===g&&(g=setTimeout(l,t)),h}var p,m,f,h,g,v,b=0,k=!1,E=!1,L=!0;if("function"!=typeof e)throw new TypeError(d);return t=i(t)||0,n(a)&&(k=!!a.leading,f=(E="maxWait"in a)?y(i(a.maxWait)||0,t):f,L="trailing"in a?!!a.trailing:L),u.cancel=function(){void 0!==g&&clearTimeout(g),b=0,p=v=m=g=void 0},u.flush=function(){return void 0===g?h:c(w())},u}function n(e){var t=void 0===e?"undefined":r(e);return!!e&&("object"==t||"function"==t)}function o(e){return"symbol"==(void 0===e?"undefined":r(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":r(e))}(e)&&b.call(e)==l}function i(e){if("number"==typeof e)return e;if(o(e))return s;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var a=p.test(e);return a||m.test(e)?f(e.slice(2),a?2:8):u.test(e)?s:+e}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d="Expected a function",s=NaN,l="[object Symbol]",c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,f=parseInt,h="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t,g="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,v=h||g||Function("return this")(),b=Object.prototype.toString,y=Math.max,x=Math.min,w=function(){return v.Date.now()};e.exports=function(e,t,o){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError(d);return n(o)&&(i="leading"in o?!!o.leading:i,r="trailing"in o?!!o.trailing:r),a(e,t,{leading:i,maxWait:t,trailing:r})}}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function a(e){var t=void 0===e?"undefined":i(e);return!!e&&("object"==t||"function"==t)}function n(e){return"symbol"==(void 0===e?"undefined":i(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":i(e))}(e)&&v.call(e)==s}function o(e){if("number"==typeof e)return e;if(n(e))return d;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var o=u.test(e);return o||p.test(e)?m(e.slice(2),o?2:8):c.test(e)?d:+e}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="Expected a function",d=NaN,s="[object Symbol]",l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt,f="object"==(void 0===t?"undefined":i(t))&&t&&t.Object===Object&&t,h="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,g=f||h||Function("return this")(),v=Object.prototype.toString,b=Math.max,y=Math.min,x=function(){return g.Date.now()};e.exports=function(e,t,n){function i(t){var a=p,n=m;return p=m=void 0,w=t,h=e.apply(n,a)}function d(e){return w=e,g=setTimeout(l,t),k?i(e):h}function s(e){var a=e-v;return void 0===v||a>=t||a<0||E&&e-w>=f}function l(){var e=x();return s(e)?c(e):void(g=setTimeout(l,function(e){var a=t-(e-v);return E?y(a,f-(e-w)):a}(e)))}function c(e){return g=void 0,L&&p?i(e):(p=m=void 0,h)}function u(){var e=x(),a=s(e);if(p=arguments,m=this,v=e,a){if(void 0===g)return d(v);if(E)return g=setTimeout(l,t),i(v)}return void 0===g&&(g=setTimeout(l,t)),h}var p,m,f,h,g,v,w=0,k=!1,E=!1,L=!0;if("function"!=typeof e)throw new TypeError(r);return t=o(t)||0,a(n)&&(k=!!n.leading,f=(E="maxWait"in n)?b(o(n.maxWait)||0,t):f,L="trailing"in n?!!n.trailing:L),u.cancel=function(){void 0!==g&&clearTimeout(g),w=0,p=v=m=g=void 0},u.flush=function(){return void 0===g?h:c(x())},u}}).call(t,function(){return this}())},function(e,t){"use strict";function a(e){var t=void 0,n=void 0;for(t=0;t<e.length;t+=1){if((n=e[t]).dataset&&n.dataset.aos)return!0;if(n.children&&a(n.children))return!0}return!1}function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),n=Array.prototype.slice.call(e.removedNodes);if(a(t.concat(n)))return i()}))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.default={isSupported:function(){return!!n()},ready:function(e,t){var a=window.document,r=new(n())(o);i=t,r.observe(a.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(e,t){"use strict";function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,i=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"phone",value:function(){var e=a();return!(!o.test(e)&&!i.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=a();return!(!r.test(e)&&!d.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var a=window.pageYOffset,n=window.innerHeight;e.forEach((function(e,o){!function(e,t,a){var n=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):void 0!==n&&("false"===n||!a&&"true"!==n)&&e.node.classList.remove("aos-animate")}(e,n+a,t)}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(12));t.default=function(e,t){return e.forEach((function(e,a){e.node.classList.add("aos-init"),e.position=(0,n.default)(e.node,t.offset)})),e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(13));t.default=function(e,t){var a=0,o=0,i=window.innerHeight,r={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(r.offset&&!isNaN(r.offset)&&(o=parseInt(r.offset)),r.anchor&&document.querySelectorAll(r.anchor)&&(e=document.querySelectorAll(r.anchor)[0]),a=(0,n.default)(e).top,r.anchorPlacement){case"top-bottom":break;case"center-bottom":a+=e.offsetHeight/2;break;case"bottom-bottom":a+=e.offsetHeight;break;case"top-center":a+=i/2;break;case"bottom-center":a+=i/2+e.offsetHeight;break;case"center-center":a+=i/2+e.offsetHeight/2;break;case"top-top":a+=i;break;case"bottom-top":a+=e.offsetHeight+i;break;case"center-top":a+=e.offsetHeight/2+i}return r.anchorPlacement||r.offset||isNaN(t)||(o=t),a+o}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=0,a=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),a+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:a,left:t}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))}}])})),window.innerWidth<768&&[].slice.call(document.querySelectorAll("[data-bss-disabled-mobile]")).forEach((function(e){e.classList.remove("animated"),e.removeAttribute("data-bss-hover-animate"),e.removeAttribute("data-aos"),e.removeAttribute("data-bss-parallax-bg"),e.removeAttribute("data-bss-scroll-zoom")})),document.addEventListener("DOMContentLoaded",(function(){"AOS"in window&&AOS.init()}),!1),function(){"use strict";var e=document.querySelector("#mainNav");if(e){var t=e.querySelector(".navbar-collapse");if(t){var a=new bootstrap.Collapse(t,{toggle:!1}),n=t.querySelectorAll("a");for(var o of n)o.addEventListener("click",(function(e){a.hide()}))}var i=function(){(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)>100?e.classList.add("navbar-shrink"):e.classList.remove("navbar-shrink")};i(),document.addEventListener("scroll",i)}}();var rotatingGroup,staticGroup,line,area,x,y,tempRaw=[],temp=[],tempRotateDegree=0,lastRotateDegree=0,tempYear=2e3;const tonePalette=d3.quantize((e=>d3.interpolateLab("steelblue","brown")(e)),32);var pickedThemeTone,lighterThemeTone,darkerThemeTone;const dataDisplaySize="14px",dataDisplaySizeLarge="17px",rotationOffsetZeroMark=90;async function initChart(e){tempRaw=await d3.csv("https://raw.githubusercontent.com/EvoLandEco/AssetVault/main/sfo-temperature.csv"),temp=d3.groups(tempRaw,(({DATE:e})=>{const t=new Date(e);return new Date(Date.UTC(2e3,t.getUTCMonth(),t.getUTCDate()))})).sort((([e],[t])=>d3.ascending(e,t))).map((([e,t])=>({date:e,avg:d3.mean(t,(e=>e.TAVG||NaN)),min:d3.mean(t,(e=>e.TMIN||NaN)),max:d3.mean(t,(e=>e.TMAX||NaN)),minmin:d3.min(t,(e=>e.TMIN||NaN)),maxmax:d3.max(t,(e=>e.TMAX||NaN)),minavg:d3.min(t,(e=>e.TAVG||NaN)),maxavg:d3.max(t,(e=>e.TAVG||NaN))})));const t=928,a=185.6,n=454.72,o=18.56,i=.41*a;x=d3.scaleUtc().domain([new Date("2000-01-01"),new Date("2001-01-01")-1]).range([0,2*Math.PI]),y=d3.scaleRadial().domain([d3.min(temp,(e=>e.minmin)),d3.max(temp,(e=>e.maxmax))]).range([a,n]),line=d3.lineRadial().curve(d3.curveLinearClosed).angle((e=>x(e.date))),area=d3.areaRadial().curve(d3.curveLinearClosed).angle((e=>x(e.date)));const r=d3.create("svg").attr("width",t).attr("height",928).attr("viewBox",[-464,-464,t,928]).attr("style","width: 100%; height: auto; font: 10px sans-serif;").attr("stroke-linejoin","round").attr("stroke-linecap","round"),d=r.append("defs").append("radialGradient").attr("id","line-gradient").attr("gradientUnits","userSpaceOnUse").attr("cx",0).attr("cy",0).attr("r","70.41%");d.append("stop").attr("offset","40%").attr("stop-color","steelblue"),d.append("stop").attr("offset","60%").attr("stop-color","brown"),(staticGroup=r.append("g")).append("svg:defs").attr("class","arrow-defs").selectAll("marker").data(["end"]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 0 448 512").attr("refX",-45).attr("refY",256).attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto-start-reverse").append("svg:path").attr("d","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"),staticGroup.append("g").attr("class","zero-degree-mark").selectAll().data([x.ticks()[3]]).join("g").each(((e,t)=>e.id=uid("month"))).call((e=>e.append("path").attr("stroke-width",4).attr("stroke-opacity",.7).attr("stroke-linecap","butt").attr("stroke-dasharray",[10,5]).attr("marker-start","url(#end)").attr("d",(e=>`\n                        M${d3.pointRadial(x(e),414.35200000000003)}\n                        L${d3.pointRadial(x(e),n)}\n                    `)))).call((e=>e.append("path").attr("class","zero-degree-mark").attr("stroke-width",4).attr("stroke-opacity",.7).attr("stroke-linecap","butt").attr("stroke-dasharray",[10,5]).attr("marker-start","url(#end)").attr("d",(e=>`\n                        M${d3.pointRadial(x(e),225.968)}\n                        L${d3.pointRadial(x(e),a)}\n                    `)))).attr("transform","rotate(0.5)"),staticGroup.append("g").attr("text-anchor","middle").selectAll().data(y.ticks(7).reverse()).join("g").call((e=>e.append("circle").attr("fill","none").attr("stroke","currentColor").attr("stroke-opacity",.2).attr("r",y))).call((e=>e.append("text").attr("y",(e=>-y(e))).attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).attr("fill","currentColor").attr("paint-order","stroke").text(((e,t)=>`${e.toFixed(0)}${t?"":"°F"}`)).clone(!0).attr("y",(e=>y(e))))).call((e=>e.append("text").attr("class","data-display-year").attr("x",r.node().getBBox().x+r.node().getBBox().width/2).attr("y",r.node().getBBox().y+r.node().getBBox().height/2-96.512).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).attr("fill","currentColor").attr("paint-order","stroke").style("font-size","17px"))).call((e=>e.append("text").attr("class","data-display-date").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i+o).attr("y",r.node().getBBox().y+r.node().getBBox().height/2-60.32).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).attr("fill","currentColor").attr("paint-order","stroke").style("font-size","14px"))).call((e=>e.append("text").attr("class","data-display-avg").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i+o).attr("y",r.node().getBBox().y+r.node().getBBox().height/2-36.192).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).attr("fill","currentColor").attr("paint-order","stroke").style("font-size","14px"))).call((e=>e.append("text").attr("class","data-display-min").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i+o).attr("y",r.node().getBBox().y+r.node().getBBox().height/2-12.064).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).attr("fill","currentColor").attr("paint-order","stroke").style("font-size","14px"))).call((e=>e.append("text").attr("class","data-display-max").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i+o).attr("y",r.node().getBBox().y+r.node().getBBox().height/2+12.064).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).attr("fill","currentColor").attr("paint-order","stroke").style("font-size","14px"))).call((e=>e.append("text").attr("class","data-display-minmin").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i+o).attr("y",r.node().getBBox().y+r.node().getBBox().height/2+36.192).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).attr("fill","currentColor").attr("paint-order","stroke").style("font-size","14px"))).call((e=>e.append("text").attr("class","data-display-maxmax").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i+o).attr("y",r.node().getBBox().y+r.node().getBBox().height/2+60.32).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).attr("fill","currentColor").attr("paint-order","stroke").style("font-size","14px"))).call((e=>e.append("text").attr("class","fa-display-date").attr("class","fa").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i).attr("y",r.node().getBBox().y+r.node().getBBox().height/2-60.32).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").style("font-size","14px").text(""))).call((e=>e.append("text").attr("class","fa-display-avg").attr("class","fa").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i).attr("y",r.node().getBBox().y+r.node().getBBox().height/2-36.192).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").style("font-size","14px").text(""))).call((e=>e.append("text").attr("class","fa-display-min").attr("class","fa").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i).attr("y",r.node().getBBox().y+r.node().getBBox().height/2-12.064).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").style("font-size","14px").text(""))).call((e=>e.append("text").attr("class","fa-display-max").attr("class","fa").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i).attr("y",r.node().getBBox().y+r.node().getBBox().height/2+12.064).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").style("font-size","14px").text(""))).call((e=>e.append("text").attr("class","fa-display-minmin").attr("class","fa").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i).attr("y",r.node().getBBox().y+r.node().getBBox().height/2+36.192).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").style("font-size","14px").text(""))).call((e=>e.append("text").attr("class","fa-display-maxmax").attr("class","fa").attr("x",r.node().getBBox().x+r.node().getBBox().width/2-i).attr("y",r.node().getBBox().y+r.node().getBBox().height/2+60.32).attr("text-anchor","start").attr("dominant-baseline","middle").attr("dy","0.35em").style("font-size","14px").text(""))),(rotatingGroup=r.append("g")).append("path").attr("class","ribbon-historical-extreme").attr("fill-opacity",.2).attr("d",area.innerRadius((e=>y(e.minmin))).outerRadius((e=>y(e.maxmax)))(temp)),rotatingGroup.append("path").attr("class","ribbon-daily-avg").attr("fill-opacity",.2).attr("d",area.innerRadius((e=>y(e.min))).outerRadius((e=>y(e.max)))(temp)),rotatingGroup.append("path").attr("class","line-daily-avg").attr("fill","none").attr("stroke-width",1.5).attr("stroke-dasharray","3,4").attr("stroke-opacity",.7).attr("d",line.radius((e=>y(e.avg)))(temp)),rotatingGroup.append("g").selectAll().data(x.ticks()).join("g").each(((e,t)=>e.id=uid("month"))).call((e=>e.append("path").attr("stroke","#000").attr("stroke-opacity",.2).attr("d",(e=>`\n                    M${d3.pointRadial(x(e),a)}\n                    L${d3.pointRadial(x(e),n)}\n                `)))).call((e=>e.append("path").attr("id",(e=>e.id.id)).datum((e=>[e,d3.utcMonth.offset(e,1)])).attr("fill","none").attr("d",(([e,t])=>`\n                    M${d3.pointRadial(x(e),a)}\n                    A185.6,185.6 0,0,1 ${d3.pointRadial(x(t),a)}\n                `)))).call((e=>e.append("text").append("textPath").attr("startOffset",6).attr("xlink:href",(e=>e.id.href)).text(d3.utcFormat("%B")))),rotatingGroup.append("g").attr("text-anchor","middle").selectAll().data(y.ticks(7).reverse()).join("g").call((e=>e.append("circle").attr("fill","none").attr("stroke","currentColor").attr("stroke-opacity",.2).attr("r",y))),updateTempPath(e,metric),updateTempRotateDegree(tempRotateDegree),document.getElementById("figure").appendChild(r.node())}function updateTempPath(e,t){const a=getTempPerYear(tempRaw,e);rotatingGroup.selectAll(".temp-path").size()>0?rotatingGroup.selectAll(".temp-path").transition().duration(150).attr("d",line.radius((e=>y(e[t])))(a)):rotatingGroup.append("path").attr("class","temp-path").attr("fill","none").attr("stroke","url(#line-gradient)").attr("stroke-width",1.5).attr("d",line.radius((e=>y(e[t])))(a)).transition().duration(150),staticGroup.selectAll(".data-display-year").text(e).style("fill",pickedThemeTone)}function updateTempRotateDegree(e){var t=function(e){const t=e*Math.PI/180;return x.invert(t)}(e),a=temp.find((e=>Math.abs(e.date-t)<864e5));const n=d3.min(temp,(e=>e.avg)),o=d3.max(temp,(e=>e.avg));pickedThemeTone=function(e,t,a,n){const o=(e.avg-a)/(n-a);return t[Math.floor(o*(t.length-1))]}(a,tonePalette,n,o);lighterThemeTone=(e=>d3.hsl(e).brighter(1.4).toString())(pickedThemeTone),darkerThemeTone=(e=>d3.hsl(e).darker(1.4).toString())(pickedThemeTone),staticGroup&&(staticGroup.selectAll(".arrow-defs").style("fill",darkerThemeTone),staticGroup.selectAll(".zero-degree-mark").style("stroke",pickedThemeTone),staticGroup.selectAll(".data-display-date").text(`Date: ${new Date(a.date).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})}`).style("fill",pickedThemeTone),staticGroup.selectAll(".data-display-avg").text(`Day Average: ${a.avg.toFixed(2)}°F`).style("fill",pickedThemeTone),staticGroup.selectAll(".data-display-min").text(`Day Lowest: ${a.min.toFixed(2)}°F`).style("fill",pickedThemeTone),staticGroup.selectAll(".data-display-max").text(`Day Highest: ${a.max.toFixed(2)}°F`).style("fill",pickedThemeTone),staticGroup.selectAll(".data-display-minmin").text(`Historical Lowest: ${a.minmin}°F`).style("fill",pickedThemeTone),staticGroup.selectAll(".data-display-maxmax").text(`Historical Highest: ${a.maxmax}°F`).style("fill",pickedThemeTone),staticGroup.selectAll(".fa").style("fill",pickedThemeTone)),rotateTransitionDuration=1*Math.abs(e-lastRotateDegree),rotatingGroup&&(rotatingGroup.transition().duration(rotateTransitionDuration).attr("transform",`rotate(${90-e})`),rotatingGroup.selectAll(".ribbon-historical-extreme").style("fill",lighterThemeTone),rotatingGroup.selectAll(".ribbon-daily-avg").style("fill",pickedThemeTone),rotatingGroup.selectAll(".line-daily-avg").style("stroke",pickedThemeTone),staticGroup.selectAll(".data-display-year").style("fill",pickedThemeTone)),lastRotateDegree=e}metric="avg";var count=0;function uid(e){return new Id("O-"+(null==e?"":e+"-")+ ++count)}function Id(e){this.id=e,this.href=new URL(`#${e}`,location)+""}Id.prototype.toString=function(){return"url("+this.href+")"},initChart(2e3);const yearSlider=document.getElementById("year-slider"),yearValue=document.getElementById("year-value");yearSlider.addEventListener("input",(function(){tempYear=+yearSlider.value,yearValue.textContent=tempYear,updateTempPath(tempYear,metric)})),document.addEventListener("DOMContentLoaded",(function(){var e=!1;function t(t){if(e){const e=document.querySelector(".circle");let a;t.touches&&(a=t.touches[0]);const n=e.getBoundingClientRect(),o=n.left+n.width/2,i=n.top+n.height/2,r=t.pageX||a.pageX,d=i-(t.pageY||a.pageY),s=o-r;let l=Math.atan2(d,s)*(180/Math.PI);l-=90,l-90<0&&(l=360+l),l=Math.round(l),document.querySelector(".dot").style.transform=`rotate(${l}deg)`,function(e){updateTempRotateDegree(tempRotateDegree=360-e)}(l-90)}}document.querySelector(".dot").addEventListener("mousedown",(function(t){e=!0})),document.querySelector(".dot").addEventListener("touchstart",(function(t){e=!0})),document.addEventListener("mouseup",(function(t){e=!1})),document.addEventListener("touchend",(function(t){e=!1})),window.addEventListener("mousemove",(function(e){t(e)})),window.addEventListener("touchmove",(function(e){t(e)}))}));const metricSelect=document.getElementById("metric-slider"),metricValue=document.getElementById("metric-value");function getTempPerYear(e,t){const a=`${t}-12-31`,n=new Date(`${t}-01-01`),o=new Date(a),i=e.filter((({DATE:e})=>{const t=new Date(e);return t>=n&&t<=o})).map((e=>({date:new Date(e.DATE),avg:e.TAVG?parseFloat(e.TAVG):NaN,max:e.TMAX?parseFloat(e.TMAX):NaN,min:e.TMIN?parseFloat(e.TMIN):NaN})));function r(e,t){for(let a=0;a<e.length;a++)if(0===e[a][t]||isNaN(e[a][t])){let n=NaN,o=NaN;for(let o=a-1;o>=0;o--)if(0!==e[o][t]&&!isNaN(e[o][t])){n=e[o][t];break}for(let n=a+1;n<e.length;n++)if(0!==e[n][t]&&!isNaN(e[n][t])){o=e[n][t];break}isNaN(n)||isNaN(o)?isNaN(n)?isNaN(o)?e[a][t]=0:e[a][t]=o:e[a][t]=n:e[a][t]=(n+o)/2}}return r(i,"avg"),r(i,"max"),r(i,"min"),i}function newwickvisShowLength(){return document.getElementById("newickvis-showLengthCheckbox").checked}function newickvisDrawRadialTree(e,t,a,n,o,i,r,d,s,l,c,u,p){const m=e.hierarchy(t,(e=>e.branchset)).sum((e=>e.branchset?0:1)).sort(((t,a)=>t.value-a.value||e.ascending(t.data.length,a.data.length)));a(m),n(m,m.data.length=0,o/i(m)),r(m);const f=e.create("svg").attr("viewBox",[-d,-d,s,s]).attr("font-family","sans-serif").attr("font-size",10);f.append("style").text("\n        .link--active {\n            stroke: #000 !important;\n            stroke-width: 1.5px;\n            filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.5));\n        }\n        .link-extension--active {\n            stroke-opacity: .6;\n            stroke-width: 1.5px;\n            stroke-dasharray: 3,2;\n        }\n        .label--active {\n            font-weight: bold;\n        }");const h=f.append("g").attr("fill","none").attr("stroke","#000").attr("stroke-opacity",.25).selectAll("path").data(m.links().filter((e=>!e.target.children))).join("path").each((function(e){e.target.linkExtensionNode=this})).attr("d",l),g=f.append("g").attr("fill","none").attr("stroke","#000").selectAll("path").data(m.links()).join("path").each((function(e){e.target.linkNode=this})).attr("d",c).attr("stroke",(e=>e.target.color));function v(t){return function(a,n){e.select(this).classed("label--active",t),e.select(n.linkExtensionNode).classed("link-extension--active",t).raise();do{e.select(n.linkNode).classed("link--active",t).raise()}while(n=n.parent)}}return f.append("g").selectAll("text").data(m.leaves()).join("text").attr("dy",".31em").attr("transform",(e=>`rotate(${e.x-90}) translate(${o+4},0)${e.x<180?"":" rotate(180)"}`)).attr("text-anchor",(e=>e.x<180?"start":"end")).text((e=>e.data.name.replace(/_/g," "))).on("mouseover",v(!0)).on("mouseout",v(!1)),Object.assign(f.node(),{newickvisUpdate:function(t){const a=e.transition().duration(750);h.transition(a).attr("d",t?u:l),g.transition(a).attr("d",t?p:c)}})}function newickvisGetUniqueSubclades(e){const t=new Set;function a(e){e.name&&e.name.includes("_subclade")&&t.add(e.name),e.branchset&&e.branchset.forEach((e=>a(e)))}let n=[e];for(;n.length>0;){const e=[];n.forEach((t=>{a(t),t.branchset&&e.push(...t.branchset)})),n=e}return Array.from(t)}function newickvisRenderSubcladeControls(e,t){const a=document.getElementById("newickvis-subclade-controls");a.innerHTML="",e.forEach((e=>{const t=e.replace("_subclade",""),n=document.createElement("label");n.innerHTML=`<input type="checkbox" class="newickvis-subclade-checkbox" value="${e}" checked> ${t}`,a.appendChild(n),a.appendChild(document.createElement("br"))})),document.querySelectorAll(".newickvis-subclade-checkbox").forEach((e=>{e.addEventListener("change",t)}))}function newickvisUpdateColorsBasedOnSelection(e){const t=Array.from(document.querySelectorAll(".newickvis-subclade-checkbox:checked")).map((e=>e.value)),a=d3.scaleOrdinal().domain(t).range(d3.schemeCategory10.slice(0,t.length));newickvisRenderTree(e,(function e(n){t.includes(n.data.name)?n.color=a(n.data.name):n.parent&&(n.color=n.parent.color),n.children&&n.children.forEach(e)})),newickvisRenderLegend(t,a)}function newickvisUpdateLegendBasedOnSelection(e,t){return function(a){a.selectAll(".legend").remove();const n=a.append("g").attr("class","legend").selectAll("g").data(e).join("g").attr("transform",((e,t)=>`translate(-300,${20*t-200})`));n.append("rect").attr("width",18).attr("height",18).attr("fill",(e=>t(e))),n.append("text").attr("x",24).attr("y",9).attr("dy","0.35em").text((e=>e.replace("_subclade","")))}}function newickvisRenderTree(e,t){const a=307,n=d3.cluster().size([360,a]).separation(((e,t)=>1)),o=function(e,t,a,n){const o=Math.cos(e=(e-90)/180*Math.PI),i=Math.sin(e),r=Math.cos(a=(a-90)/180*Math.PI),d=Math.sin(a);return"M"+t*o+","+t*i+(a===e?"":"A"+t+","+t+" 0 0 "+(a>e?1:0)+" "+t*r+","+t*d)+"L"+n*r+","+n*d};d3.select("#newickvis-chart").selectAll("*").remove();const i=newickvisDrawRadialTree(d3,e,n,(function e(t,a,n){t.radius=(a+=t.data.length)*n,t.children&&t.children.forEach((t=>e(t,a,n)))}),a,(function e(t){return t.data.length+(t.children?d3.max(t.children,e):0)}),t,477,954,(function(e){return o(e.target.x,e.target.y,e.target.x,a)}),(function(e){return o(e.source.x,e.source.y,e.target.x,e.target.y)}),(function(e){return o(e.target.x,e.target.radius,e.target.x,a)}),(function(e){return o(e.source.x,e.source.radius,e.target.x,e.target.radius)}));document.getElementById("newickvis-chart").appendChild(i);const r=document.getElementById("newickvis-showLengthCheckbox");r.addEventListener("change",(()=>{i.newickvisUpdate(r.checked)}))}function newickvisRenderLegend(e,t){d3.select("#newickvis-legend").selectAll("*").remove();const a=20*(e.length+1),n=d3.create("svg").attr("width",200).attr("height",a).style("display","block"),o=n.selectAll(".newickvis-legend").data([...e,"Unclassified"]).enter().append("g").attr("class","newickvis-legend").attr("transform",((e,t)=>`translate(0,${20*t})`));o.append("rect").attr("x",18).attr("width",18).attr("height",18).style("fill",(e=>"Unclassified"===e?"#000":t(e))),o.append("text").attr("x",40).attr("y",9).attr("dy",".35em").text((e=>e.replace("_subclade",""))),document.getElementById("newickvis-legend").appendChild(n.node())}async function newickvisLoadData(e=!0){let t;if(e){const e=await fetch("https://raw.githubusercontent.com/EvoLandEco/AssetVault/main/example_phylo.txt");t=await e.text()}else{const e=document.getElementById("newickvis-fileInput").files[0];if(!e)return void alert("Please select a file.");t=await e.text()}const a=newickvisParseNewick(t);newickvisRenderSubcladeControls(newickvisGetUniqueSubclades(a),(()=>newickvisUpdateColorsBasedOnSelection(a))),newickvisUpdateColorsBasedOnSelection(a)}function newickvisParseNewick(e){for(var t=[],a={},n=e.split(/\s*(;|\(|\)|,|:)\s*/),o=0;o<n.length;o++){var i=n[o];switch(i){case"(":var r={};a.branchset=[r],t.push(a),a=r;break;case",":r={};t[t.length-1].branchset.push(r),a=r;break;case")":a=t.pop();break;case":":break;default:var d=n[o-1];")"==d||"("==d||","==d?a.name=i:":"==d&&(a.length=parseFloat(i))}}return a}metricSelect.addEventListener("input",(function(){metricIndex=metricSelect.value,0==metricIndex?(metric="min",metricValue.textContent="Minimum"):1==metricIndex?(metric="avg",metricValue.textContent="Average"):2==metricIndex?(metric="max",metricValue.textContent="Maximum"):(metric="avg",metricValue.textContent="Average"),updateTempPath(tempYear,metric)})),document.addEventListener("DOMContentLoaded",(function(){function e(){const e=document.getElementById("figure");if(!e)return;const t=e.clientWidth,a=e.clientHeight,n=.35*Math.min(t,a),o=document.querySelector(".circle");o&&(o.style.width=`${n}px`,o.style.height=`${n}px`)}const t=document.getElementById("figure");if(t){new ResizeObserver((()=>{e()})).observe(t)}e(),window.addEventListener("resize",e)})),window.onload=()=>{newickvisLoadData();const e=document.getElementById("newickvis-fileInput");e.addEventListener("change",(()=>{document.getElementById("newickvis-showLengthCheckbox").checked=!1,newickvisLoadData(!1)}));document.getElementById("newickvis-fileInputButton").addEventListener("click",(()=>{e.click()}))};const newickvistoggleLegendCheckbox=document.getElementById("newickvis-toggleLegendCheckbox"),newickLegend=document.getElementById("newickvis-legend"),newickChart=document.getElementById("newickvis-chart");newickvistoggleLegendCheckbox.addEventListener("change",(function(){newickvistoggleLegendCheckbox.checked?(newickLegend.classList.remove("hidden"),newickChart.classList.remove("expanded")):(newickLegend.classList.add("hidden"),newickChart.classList.add("expanded"))}));const rootNodeColor="#80b3ff",internalNodeColor="#ffd699",tipNodeColor="#b3ff99",edgeColor="black",nodeLabelColor="black",edgeLabelColor="gray",nodeSize=30;var network,nodesDataSet,edgesDataSet;function generateYuleTree(e){var t=[],a=[],n=1,o=1;t.push({id:n,label:`n${n}`,shape:"circle",color:"#80b3ff",font:{color:"black"},size:30});var i=[n];n++;for(var r=1;r<e;){var d=Math.floor(Math.random()*i.length),s=i[d];i.splice(d,1);var l=n++,c=n++;t.push({id:l,label:`n${l}`,shape:"circle",color:"#ffd699",font:{color:"black"},size:30}),t.push({id:c,label:`n${c}`,shape:"circle",color:"#ffd699",font:{color:"black"},size:30}),a.push({from:s,to:l,label:"e"+o++,font:{align:"top",color:"gray"},color:"black"}),a.push({from:s,to:c,label:"e"+o++,font:{align:"top",color:"gray"},color:"black"}),i.push(l,c),r+=1}i.forEach((e=>{t=t.map((t=>t.id===e?{...t,shape:"circle",color:"#b3ff99"}:t))})),a.forEach((e=>{e.color="black"}));var u=t.filter((e=>"#b3ff99"===e.color)),p=t.find((e=>"#80b3ff"===e.color)),m=t.filter((e=>"#ffd699"===e.color)),f=1;u.forEach((e=>{e.label="n"+f++})),p&&(p.label="n"+f++),m.forEach((e=>{e.label="n"+f++})),nodesDataSet=new vis.DataSet([...u,p,...m]),edgesDataSet=new vis.DataSet(a);var h=document.getElementById("mynetwork"),g={nodes:nodesDataSet,edges:edgesDataSet},v={layout:{hierarchical:{direction:"UD",sortMethod:"directed",levelSeparation:80}},edges:{arrows:{to:{enabled:!0,scaleFactor:1,type:"vee"}},chosen:{edge:changeChosenEdge}},nodes:{font:{align:"center"},chosen:{node:changeChosenNode}},interaction:{hover:!0,zoomView:!1}};network=new vis.Network(h,g,v),updateAdjacencyList(a,nodesDataSet),updateNodeFeaturesList(a,nodesDataSet),network.on("hoverEdge",(function(e){highlightEdgeInLists(e.edge,!0),edgesDataSet.update({id:e.edge,group:"highlight-edges"}),edgesDataSet.update({id:e.edge,color:"yellow"})})),network.on("blurEdge",(function(e){highlightEdgeInLists(e.edge,!1),edgesDataSet.update({id:e.edge,group:void 0}),edgesDataSet.update({id:e.edge,color:"black"})})),network.on("hoverNode",(function(e){highlightNodeInLists(e.node,!0),highlightNodeInNetwork(e.node,!0)})),network.on("blurNode",(function(e){highlightNodeInLists(e.node,!1),highlightNodeInNetwork(e.node,!1)}))}function updateAdjacencyList(e,t){const a={};let n=0;t.forEach((e=>{const t=getTextWidth(e.label,"18px monospace");t>n&&(n=t)})),e.forEach((e=>{const o=t.get(e.from),i=t.get(e.to),r=`<span class="edge-label">${e.label}</span>`,d=`<span class="brackets">[</span>${`<span id="node-${o.id}" class="node-container node-label-${o.id}" style="color:${o.color}; width:${n}px">${o.label}</span>`}<span class="brackets">,</span>${`<span id="node-${i.id}" class="node-container node-label-${i.id}" style="color:${i.color}; width:${n}px">${i.label}</span>`}<span class="brackets">]</span>`;a[e.id]=`<div id="row-${e.id}" class="row-container">${r}<span class="colon">:</span>${d}</div>`}));let o="";Object.keys(a).forEach((e=>{o+=a[e]})),document.getElementById("adjacency-list").innerHTML=o,addHoverListenersToAdjacencyList()}function updateNodeFeaturesList(e,t){const a={};let n=0;e.forEach((e=>{const t=getTextWidth(e.label,"18px monospace");t>n&&(n=t)})),t.forEach((t=>{const o=e.find((e=>e.to===t.id)),i=e.filter((e=>e.from===t.id)),r=o?o.label:"0",d=i[0]?i[0].label:"0",s=i[1]?i[1].label:"0",l=t.color||t.color.background,c=o?"black":"gray",u=i[0]?"black":"gray",p=i[1]?"black":"gray",m=`<span class="brackets">[</span>${`<span id="edge-${o?o.id:"0"}" class="edge-container" style="width:${n}px; color:${c}">${r}</span>`}<span class="brackets">,</span>${`<span id="edge-${i[0]?i[0].id:"0"}" class="edge-container" style="width:${n}px; color:${u}">${d}</span>`}<span class="brackets">,</span>${`<span id="edge-${i[1]?i[1].id:"0"}" class="edge-container" style="width:${n}px; color:${p}">${s}</span>`}<span class="brackets">]</span>`;a[t.id]=`<div id="node-feature-${t.id}" class="row-container">\n        <span class="node-label" style="color:${l}">${t.label}</span><span class="colon">:</span>${m}</div>`}));let o="";Object.keys(a).forEach((e=>{o+=a[e]})),document.getElementById("node-features").innerHTML=o,addHoverListenersToNodeFeaturesList()}function getTextWidth(e,t){const a=document.createElement("canvas").getContext("2d");a.font=t;return a.measureText(e).width}function addHoverListenersToAdjacencyList(){document.querySelectorAll(".row-container").forEach((e=>{e.addEventListener("mouseenter",(function(){const t=e.id.replace("row-","");highlightEdgeInNetwork(t,!0),highlightEdgeInLists(t,!0)})),e.addEventListener("mouseleave",(function(){const t=e.id.replace("row-","");highlightEdgeInNetwork(t,!1),highlightEdgeInLists(t,!1)}))})),document.querySelectorAll(".node-container").forEach((e=>{e.addEventListener("mouseenter",(function(){const t=e.id.replace("node-","");highlightNodeInNetwork(t,!0),highlightNodeInLists(t,!0)})),e.addEventListener("mouseleave",(function(){const t=e.id.replace("node-","");highlightNodeInNetwork(t,!1),highlightNodeInLists(t,!1)}))}))}function addHoverListenersToNodeFeaturesList(){document.querySelectorAll(".row-container").forEach((e=>{e.addEventListener("mouseenter",(function(){const t=e.id.replace("node-feature-","");highlightNodeInNetwork(t,!0),highlightNodeInLists(t,!0)})),e.addEventListener("mouseleave",(function(){const t=e.id.replace("node-feature-","");highlightNodeInNetwork(t,!1),highlightNodeInLists(t,!1)}))})),document.querySelectorAll(".edge-container").forEach((e=>{e.addEventListener("mouseenter",(function(){const t=e.id.replace("edge-","");if("0"!==t)highlightEdgeInNetwork(t,!0),highlightEdgeInLists(t,!0);else{const t=e.closest(".row-container");t.classList.add("highlight-node-feature"),t.style.pointerEvents="none",highlightNodeInNetwork(t.id.replace("node-feature-",""),!0),highlightNodeInLists(t.id.replace("node-feature-",""),!0)}})),e.addEventListener("mouseleave",(function(){const t=e.id.replace("edge-","");if("0"!==t)highlightEdgeInNetwork(t,!1),highlightEdgeInLists(t,!1);else{const t=e.closest(".row-container");t.classList.remove("highlight-node-feature"),t.style.pointerEvents="auto",highlightNodeInNetwork(t.id.replace("node-feature-",""),!1),highlightNodeInLists(t.id.replace("node-feature-",""),!1)}}))}))}function highlightEdgeInLists(e,t){highlightEdgeInList(e,t),highlightEdgeInNodeFeatures(e,t)}function highlightEdgeInList(e,t){const a=document.getElementById(`row-${e}`);a&&(t?a.classList.add("highlight"):a.classList.remove("highlight"))}function highlightEdgeInNodeFeatures(e,t){document.querySelectorAll(`.edge-container[id='edge-${e}']`).forEach((e=>{t?e.classList.add("highlight"):e.classList.remove("highlight")}))}function highlightNodeInLists(e,t){highlightNodeInListLabels(e,t),highlightNodeInNodeFeatures(e,t)}function highlightNodeInListLabels(e,t){document.querySelectorAll(`.node-label-${e}`).forEach((e=>{t?e.classList.add("label-highlight"):e.classList.remove("label-highlight")}))}function highlightNodeInNodeFeatures(e,t){const a=document.getElementById(`node-feature-${e}`);a&&(t?a.classList.add("highlight-node-feature"):(a.classList.remove("highlight-node-feature"),a.classList.remove("highlight")))}function highlightEdgeInNetwork(e,t){const a=t?{color:{color:"yellow"},width:3}:{color:"black",width:1};edgesDataSet.update({id:e,...a})}function highlightNodeInNetwork(e,t){t?network.selectNodes([e],highlightEdges=!1):network.unselectAll()}function changeChosenNode(e,t,a,n){e.borderDashes=[2,2],e.borderColor="blue",e.borderWidth=2,e.shadowColor="lightblue",e.shadowX=0,e.shadowY=0}function changeChosenEdge(e,t,a,n){e.dashes=[5,5],e.edgeColor="yellow"}document.getElementById("treeForm").addEventListener("submit",(function(e){e.preventDefault(),generateYuleTree(parseInt(document.getElementById("tipCount").value))})),document.addEventListener("DOMContentLoaded",(function(){generateYuleTree(parseInt(document.getElementById("tipCount").value))}));const div=(e,...t)=>createElement("div",e,...t),ul=(e,...t)=>createElement("ul",e,...t),li=(e,...t)=>createElement("li",e,...t),i=(e,...t)=>createElement("i",e,...t),span=(e,...t)=>createElement("span",e,...t),header=(e,...t)=>createElement("header",e,...t),p=(e,...t)=>createElement("p",e,...t),section=(e,...t)=>createElement("section",e,...t),button=(e,...t)=>createElement("button",e,...t),fileTypeIcons={js:"code",json:"description",css:"style",html:"language",xml:"code",jsx:"code",ts:"code",tsx:"code",php:"code",py:"code",rb:"code",java:"code",cpp:"code",c:"code",cs:"code",swift:"code",go:"code",rs:"code",r:"code",png:"image",jpg:"image",jpeg:"image",gif:"image",bmp:"image",svg:"image",webp:"image",tiff:"image",md:"article",txt:"article",pdf:"picture_as_pdf",doc:"description",docx:"description",xls:"description",xlsx:"description",csv:"description",ppt:"description",pptx:"description",odt:"description",ods:"description",odp:"description",rtf:"description",tex:"description",epub:"book",mobi:"book",azw:"book",azw3:"book",fb2:"book",ibooks:"book",chm:"book",mp3:"audiotrack",wav:"audiotrack",ogg:"audiotrack",flac:"audiotrack",aac:"audiotrack",wma:"audiotrack",m4a:"audiotrack",aiff:"audiotrack",alac:"audiotrack",pcm:"audiotrack",dsd:"audiotrack",mp4:"videocam",mkv:"videocam",webm:"videocam",avi:"videocam",mov:"videocam",wmv:"videocam",flv:"videocam",f4v:"videocam",m4v:"videocam",mpeg:"videocam",mpg:"videocam",mpe:"videocam",m1v:"videocam",m2v:"videocam",ts:"videocam",ogv:"videocam",vob:"videocam",swf:"videocam",rmvb:"videocam",zip:"archive",rar:"archive",tar:"archive",gz:"archive",bz2:"archive","7z":"archive",iso:"archive",exe:"computer",msi:"computer",sh:"terminal",bat:"terminal",deb:"computer",dmg:"computer",rpm:"computer",jar:"computer",apk:"android",aab:"android",xapk:"android",obb:"android",ttf:"font_download",otf:"font_download",woff:"font_download",woff2:"font_download",ini:"settings",inf:"settings",reg:"settings",cmd:"settings",ps1:"settings",psd1:"settings",psm1:"settings",dll:"settings",sys:"settings",cab:"settings",pt:"memory",default:"insert_drive_file"};function getFileIcon(e){const t=e.split(".").pop().toLowerCase();return fileTypeIcons[t]||fileTypeIcons.default}const File=({name:e})=>div({className:"file"},i({className:"material-icons",style:"opacity: 0;"},"arrow_right"),i({className:"material-icons"},getFileIcon(e)),span(null,e)),openedFolderIcon="folder_open",closedFolderIcon="folder",openedArrowIcon="arrow_drop_down",closedArrowIcon="arrow_right";function changeOpened(e){const t=e.target.classList.contains("folder-header")?e.target:e.target.parentElement,a=!("true"==t.getAttribute("opened"));t.querySelectorAll(".material-icons").forEach((e=>{/arrow/i.test(e.textContent)?e.textContent=a?openedArrowIcon:"arrow_right":e.textContent=a?"folder_open":"folder"}));try{const e=t.nextElementSibling;a?e.classList.remove("hide"):e.classList.add("hide")}catch(e){console.warn(`No sibling of elem ${t} found ...`)}t.setAttribute("opened",a)}const Folder=(e,...t)=>{const a=e.opened||!1,n=a?openedArrowIcon:"arrow_right",o=a?"folder_open":"folder",r=e.name||"unknown";return div({className:"folder"},header({onClick:changeOpened,className:"folder-header",opened:a},i({className:"material-icons"},n),i({className:"material-icons"},o),span(null,r)),ul({className:a?"":"hide"},...t))};function appendChildren(e,t){for(let a of t)if(a)if("string"==typeof a){const t=document.createTextNode(a);e.appendChild(t)}else e.appendChild(a)}function setStyle(e,t){"string"==typeof t?e.setAttribute("style",t):Object.assign(e.style,t)}function setClass(e,t){t.split(/\s/).forEach((t=>{t&&e.classList.add(t)}))}function setProps(e,t){const a=/^on([a-z]+)$/i;for(let n in t)if(n)if("style"===n)setStyle(e,t[n]);else if("className"===n)setClass(e,t[n]);else if(a.test(n)){const o=n.replace(a,"$1").toLowerCase();e.addEventListener(o,t[n])}else e.setAttribute(n,t[n])}function createElement(e,t,...a){if("function"==typeof e)return e(t);{const n=document.createElement(e);return t&&"object"==typeof t&&setProps(n,t),a&&appendChildren(n,a),n}}const TreeView=()=>section({className:"treeview-container"},Folder({name:"Package Root"},Folder({name:"inst"},Folder({name:"model"},File({name:"weights.pt"}),File({name:"import.py"}),File({name:"function.py"})),File({name:"pkglist.csv"})),Folder({name:"R"},File({name:"function.R"}),File({name:"zzz.R"}))),Folder({name:"Code"},File({name:"index.html"}),File({name:"style.css"}),File({name:"script.js"}),File({name:"config.json"})),Folder({name:"Images"},File({name:"img.jpeg"}),File({name:"logo.png"}),File({name:"banner.gif"}),File({name:"icon.svg"})),Folder({name:"Documents"},File({name:"md.md"}),File({name:"pdf.pdf"}),File({name:"doc.docx"})),Folder({name:"Books"},File({name:"epub.epub"}),File({name:"mobi.mobi"}),File({name:"azw3.azw3"})),Folder({name:"Audio"},File({name:"mp3.mp3"}),File({name:"wav.wav"}),File({name:"ogg.ogg"})),Folder({name:"Video"},File({name:"mp4.mp4"}),File({name:"avi.avi"}),File({name:"mkv.mkv"}),File({name:"flv.flv"})),Folder({name:"Archive"},File({name:"zip.zip"}),File({name:"tar.tar"}),File({name:"rar.rar"}),File({name:"7z.7z"})),Folder({name:"Fonts"},File({name:"ttf.ttf"}),File({name:"otf.otf"}),File({name:"woff.woff"})),Folder({name:"Executable"},File({name:"exe.exe"}),File({name:"msi.msi"}),File({name:"deb.deb"}),File({name:"rpm.rpm"},File({name:"sh.sh"}))),Folder({name:"Android"},File({name:"apk.apk"}),File({name:"aab.aab"}),File({name:"xapk.xapk"}),File({name:"obb.obb"})),Folder({name:"System"},File({name:"dll.dll"}),File({name:"sys.sys"}),File({name:"ini.ini"}),File({name:"inf.inf"})),Folder({name:"Others"},File({name:"model.pt"})),Folder({name:"Default"},File({name:"default.txt"}))),app=document.querySelector("#treeView");app.appendChild(createElement(TreeView)),document.getElementById("toggleAll").addEventListener("click",(e=>{const t="Expand All"===e.target.textContent;e.target.textContent=t?"Collapse All":"Expand All",document.querySelectorAll(".folder-header").forEach((e=>{e.setAttribute("opened",t);e.querySelectorAll(".material-icons").forEach((e=>{/arrow/i.test(e.textContent)?e.textContent=t?openedArrowIcon:"arrow_right":e.textContent=t?"folder_open":"folder"}));const a=e.nextElementSibling;a&&(t?a.classList.remove("hide"):a.classList.add("hide"))}))}));